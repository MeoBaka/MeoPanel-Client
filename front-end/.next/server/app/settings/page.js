(()=>{var e={};e.id=938,e.ids=[938],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3198:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(188),t(8635),t(2874);var r=t(7105),a=t(5265),n=t(157),o=t.n(n),i=t(4665),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let d=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,188)),"D:\\PDev\\MeoPanel\\MeoPanel-Client\\front-end\\src\\app\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8635)),"D:\\PDev\\MeoPanel\\MeoPanel-Client\\front-end\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2874,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\PDev\\MeoPanel\\MeoPanel-Client\\front-end\\src\\app\\settings\\page.tsx"],m="/settings/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4658:(e,s,t)=>{Promise.resolve().then(t.bind(t,9165))},9165:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u,dynamic:()=>x});var r=t(9899),a=t(5507),n=t(5271);function o(){let[e,s]=(0,a.useState)(null),[t,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),[u,g]=(0,a.useState)(""),[h,b]=(0,a.useState)(""),[p,y]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[C,P]=(0,a.useState)(""),[S,A]=(0,a.useState)(""),{setupTwoFactor:L,verifyTwoFactor:M,disableTwoFactor:D,regenerateBackupCodes:F,getTwoFactorStatus:E}=(0,n.a)(),q=async()=>{try{let e=await E();s(e)}catch(e){g(e.message)}},T=async()=>{x(!0),g(""),b("");try{let e=await L();o(e.qrCode),b("QR code generated. Scan with your authenticator app.")}catch(e){g(e.message)}finally{x(!1)}},_=async e=>{e.preventDefault(),x(!0),g(""),b("");try{let e=await M(i);c(e.backupCodes),y(!0),o(""),l(""),await q(),b("Two-factor authentication enabled successfully!")}catch(e){g(e.message)}finally{x(!1)}},R=async e=>{e.preventDefault(),x(!0),g(""),b("");try{await D(C,S),s({isEnabled:!1,isSetup:!1}),o(""),c([]),y(!1),w(!1),P(""),A(""),b("Two-factor authentication disabled successfully.")}catch(e){g(e.message)}finally{x(!1)}},V=async e=>{e.preventDefault(),x(!0),g(""),b("");try{let e=await F(C,S);c(e.backupCodes),y(!0),k(!1),P(""),A(""),b("Backup codes regenerated successfully.")}catch(e){g(e.message)}finally{x(!1)}};return e?(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden sm:rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-white mb-4",children:"Two-Factor Authentication"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white",children:"Status"}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:[e.isEnabled?"Enabled":"Disabled",e.isSetup&&!e.isEnabled&&" (Setup in progress)"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[!e.isEnabled&&r.jsx("button",{onClick:T,disabled:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm disabled:opacity-50 transition-colors",children:m?"Setting up...":"Setup 2FA"}),e.isEnabled&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:()=>{k(!0)},disabled:m,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm disabled:opacity-50 transition-colors",children:m?"Regenerating...":"New Backup Codes"}),r.jsx("button",{onClick:()=>{w(!0)},disabled:m,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm disabled:opacity-50 transition-colors",children:m?"Disabling...":"Disable 2FA"})]})]})]}),t&&(0,r.jsxs)("div",{className:"border border-gray-600 rounded-lg p-4 bg-gray-700",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Scan QR Code"}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:t,alt:"QR Code",className:"max-w-xs"})}),r.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Scan this QR code with your authenticator app (Google Authenticator, Authy, etc.)"}),(0,r.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-300",children:"Enter verification code"}),r.jsx("input",{id:"code",type:"text",required:!0,value:i,onChange:e=>l(e.target.value.replace(/\D/g,"").slice(0,6)),className:"mt-1 block w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center text-lg transition-colors",placeholder:"000000",maxLength:6})]}),r.jsx("button",{type:"submit",disabled:m||6!==i.length,className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm disabled:opacity-50 transition-colors",children:m?"Verifying...":"Verify & Enable 2FA"})]})]}),p&&d.length>0&&(0,r.jsxs)("div",{className:"border border-yellow-600 rounded-lg p-4 bg-yellow-900 bg-opacity-20",children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-200 mb-2",children:"⚠️ Save Your Backup Codes"}),r.jsx("p",{className:"text-sm text-yellow-300 mb-4",children:"These codes can be used to access your account if you lose your authenticator device. Save them in a secure place."}),r.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:d.map((e,s)=>r.jsx("div",{className:"bg-gray-700 p-2 rounded border border-gray-600 text-center font-mono text-sm text-white",children:e},s))}),r.jsx("button",{onClick:()=>y(!1),className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded text-sm transition-colors",children:"I've Saved These Codes"})]}),e.isEnabled&&(0,r.jsxs)("div",{className:"border border-green-600 rounded-lg p-4 bg-green-900 bg-opacity-20",children:[r.jsx("h4",{className:"text-sm font-medium text-green-200 mb-2",children:"✅ Two-Factor Authentication is Enabled"}),(0,r.jsxs)("p",{className:"text-sm text-green-300",children:["Your account is now protected with two-factor authentication. You have ",e.backupCodesCount," backup codes remaining."]})]}),u&&r.jsx("div",{className:"text-red-400 text-sm bg-red-900 bg-opacity-20 border border-red-600 p-3 rounded",children:u}),h&&r.jsx("div",{className:"text-green-400 text-sm bg-green-900 bg-opacity-20 border border-green-600 p-3 rounded",children:h})]})]})}),v&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-gray-800",children:(0,r.jsxs)("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Disable Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"To disable 2FA, please provide your current password and either a 2FA code from your authenticator app or a backup code."}),(0,r.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"verificationToken",className:"block text-sm font-medium text-gray-300",children:"Verification Code"}),r.jsx("input",{id:"verificationToken",type:"text",required:!0,value:C,onChange:e=>P(e.target.value.toUpperCase().slice(0,8)),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000/ABC12345",maxLength:8}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter a 6-digit code from your authenticator or an 8-character backup code"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-300",children:"Current Password"}),r.jsx("input",{id:"currentPassword",type:"password",required:!0,value:S,onChange:e=>A(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your current password"})]}),u&&r.jsx("div",{className:"text-red-400 text-sm bg-red-900 bg-opacity-20 border border-red-600 p-3 rounded",children:u}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{w(!1),P(""),A("")},className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m||C.length<6||!S,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:m?"Disabling...":"Disable 2FA"})]})]})]})})}),N&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-gray-800",children:(0,r.jsxs)("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Regenerate Backup Codes"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"To regenerate backup codes, please provide your current password and either a 2FA code from your authenticator app or a backup code."}),(0,r.jsxs)("form",{onSubmit:V,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"regenerateVerificationToken",className:"block text-sm font-medium text-gray-300",children:"Verification Code"}),r.jsx("input",{id:"regenerateVerificationToken",type:"text",required:!0,value:C,onChange:e=>P(e.target.value.toUpperCase().slice(0,8)),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000/ABC12345",maxLength:8}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter a 6-digit code from your authenticator or an 8-character backup code"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"regenerateCurrentPassword",className:"block text-sm font-medium text-gray-300",children:"Current Password"}),r.jsx("input",{id:"regenerateCurrentPassword",type:"password",required:!0,value:S,onChange:e=>A(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your current password"})]}),u&&r.jsx("div",{className:"text-red-400 text-sm bg-red-900 bg-opacity-20 border border-red-600 p-3 rounded",children:u}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{k(!1),P(""),A("")},className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m||C.length<6||!S,className:"px-4 py-2 text-sm font-medium text-white bg-yellow-600 border border-transparent rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",children:m?"Regenerating...":"Regenerate Codes"})]})]})]})})})]}):r.jsx("div",{className:"text-center text-gray-400",children:"Loading..."})}function i(){let[e,s]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[t,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),{changePassword:m}=(0,n.a)(),x=async t=>{if(t.preventDefault(),o(!0),l(""),c(""),e.newPassword!==e.confirmPassword){l("New passwords do not match"),o(!1);return}if(e.newPassword.length<6){l("New password must be at least 6 characters long"),o(!1);return}try{await m(e.currentPassword,e.newPassword),c("Password changed successfully. You will be logged out from other devices."),s({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){l(e.message)}finally{o(!1)}},u=e=>{s(s=>({...s,[e.target.name]:e.target.value}))};return r.jsx("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden sm:rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-white mb-4",children:"Change Password"}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-300",children:"Current Password"}),r.jsx("input",{id:"currentPassword",name:"currentPassword",type:"password",required:!0,value:e.currentPassword,onChange:u,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-300",children:"New Password"}),r.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:e.newPassword,onChange:u,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm New Password"}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:e.confirmPassword,onChange:u,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),i&&r.jsx("div",{className:"text-red-400 text-sm",children:i}),d&&r.jsx("div",{className:"text-green-400 text-sm",children:d}),r.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:t?"Changing Password...":"Change Password"})]})]})})}function l({isOpen:e,title:s,message:t,confirmText:a="Confirm",cancelText:n="Cancel",onConfirm:o,onCancel:i}){return e?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:i}),(0,r.jsxs)("div",{className:"relative bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:s}),r.jsx("p",{className:"text-gray-300 text-sm",children:t})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500",children:n}),r.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-red-500",children:a})]})]})]}):null}function d(){let{getSessions:e,logoutSession:s}=(0,n.a)(),[t,o]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(null),[x,u]=(0,a.useState)({isOpen:!1,sessionId:"",title:"",message:""}),g=async()=>{try{d(!0);let s=await e();o(s),m(null)}catch(e){m(e instanceof Error?e.message:"Failed to load sessions")}finally{d(!1)}},h=e=>{u({isOpen:!0,sessionId:e,title:"Logout Session",message:"Are you sure you want to logout this session? This action cannot be undone."})},b=async()=>{try{await s(x.sessionId),u({isOpen:!1,sessionId:"",title:"",message:""}),await g()}catch(e){alert(e instanceof Error?e.message:"Failed to logout session"),u({isOpen:!1,sessionId:"",title:"",message:""})}},p=e=>new Date(e).toLocaleString();return i?r.jsx("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden sm:rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-600 rounded w-1/4 mb-4"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-600 rounded"}),r.jsx("div",{className:"h-4 bg-gray-600 rounded"}),r.jsx("div",{className:"h-4 bg-gray-600 rounded"})]})]})})}):c?r.jsx("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden sm:rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("div",{className:"text-red-400 text-sm",children:c}),r.jsx("button",{onClick:g,className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Retry"})]})}):(0,r.jsxs)("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden sm:rounded-lg",children:[(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-white",children:"Active Sessions"}),(0,r.jsxs)("button",{onClick:g,className:"bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-1 rounded text-sm transition-colors flex items-center space-x-1",title:"Refresh sessions",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r.jsx("span",{children:"Refresh"})]})]}),0===t.length?r.jsx("p",{className:"text-gray-400 text-sm",children:"No active sessions found."}):r.jsx("div",{className:"space-y-4",children:t.map(e=>r.jsx("div",{className:"border border-gray-600 rounded-lg p-4 bg-gray-700",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,r.jsxs)("span",{className:"text-sm font-medium text-white",children:["IP: ",e.ipAddress]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-300 mb-2",children:[(0,r.jsxs)("div",{className:"font-medium flex items-center space-x-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("span",{children:"User Agent:"})]}),r.jsx("div",{className:"break-all bg-gray-600 p-2 rounded text-xs font-mono text-gray-200 mt-1",children:e.userAgent})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("span",{children:["Created: ",p(e.createdAt)]})]}),e.lastUsedAt&&(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("span",{children:["Last used: ",p(e.lastUsedAt)]})]})]})]}),e.isCurrent?(0,r.jsxs)("div",{className:"bg-green-600 text-white px-3 py-1 rounded text-sm flex items-center space-x-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Current Session"})]}):(0,r.jsxs)("button",{onClick:()=>h(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors flex items-center space-x-1",title:"Logout this session",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),r.jsx("span",{children:"Logout"})]})]})},e.id))})]}),r.jsx(l,{isOpen:x.isOpen,title:x.title,message:x.message,onConfirm:b,onCancel:()=>{u({isOpen:!1,sessionId:"",title:"",message:""})}})]})}var c=t(6153),m=t(2862);let x="force-dynamic";function u(){let{user:e,logout:s,logoutAll:t}=(0,n.a)(),[i,l]=(0,a.useState)("profile"),[d,x]=(0,a.useState)(!1);return((0,c.useRouter)(),d&&e)?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[r.jsx(m.Z,{user:e,logout:s}),r.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[r.jsx("div",{className:"border-b border-gray-700 mb-6",children:(0,r.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{onClick:()=>l("profile"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${"profile"===i?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"}`,children:"Profile"}),r.jsx("button",{onClick:()=>l("security"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${"security"===i?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"}`,children:"Security"}),r.jsx("button",{onClick:()=>l("2fa"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${"2fa"===i?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"}`,children:"Two-Factor Auth"})]})}),"profile"===i&&r.jsx(g,{}),"security"===i&&r.jsx(h,{}),"2fa"===i&&r.jsx(o,{})]})})]}):null}function g(){let{user:e,resendVerification:s}=(0,n.a)(),[t,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(!1),d=async()=>{if(e?.email){l(!0),o("");try{await s(e.email),o("Verification email sent. Please check your console for the link.")}catch(e){o(e.message||"Failed to resend verification email.")}finally{l(!1)}}};return e?r.jsx("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden sm:rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-white mb-4",children:"User Profile"}),(0,r.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Full Name"}),r.jsx("dd",{className:"mt-1 text-sm text-white",children:e.name||"Not set"})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Username"}),r.jsx("dd",{className:"mt-1 text-sm text-white",children:e.username})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Email"}),(0,r.jsxs)("dd",{className:"mt-1 text-sm text-white flex items-center gap-2",children:[e.email,!e.emailVerifiedAt&&r.jsx("button",{onClick:d,disabled:i,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-2 py-1 rounded text-xs transition-colors",children:i?"Sending...":"Resend Verification"})]}),t&&r.jsx("p",{className:"mt-1 text-xs text-blue-400",children:t})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Email Verified"}),r.jsx("dd",{className:"mt-1 text-sm text-white",children:e.emailVerifiedAt?r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-800 text-green-200",children:"Verified"}):r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-800 text-yellow-200",children:"Unverified"})})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Role"}),r.jsx("dd",{className:"mt-1 text-sm text-white",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-800 text-blue-200 capitalize",children:e.role})})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Member Since"}),r.jsx("dd",{className:"mt-1 text-sm text-white",children:new Date(e.created_at).toLocaleDateString()})]})]})]})}):null}function h(){let{logout:e,logoutAll:s}=(0,n.a)();return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(i,{}),r.jsx(d,{}),r.jsx("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden sm:rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-white mb-4",children:"Session Management"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white",children:"Current Session"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Log out from your current session only."}),r.jsx("button",{onClick:e,className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm transition-colors",children:"Logout Current Session"})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white",children:"All Sessions"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Log out from all devices and sessions."}),r.jsx("button",{onClick:s,className:"mt-2 bg-red-800 hover:bg-red-900 text-white px-4 py-2 rounded text-sm transition-colors",children:"Logout All Sessions"})]})]})]})})]})}},188:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,dynamic:()=>a});var r=t(2772);let a=(0,r.createProxy)(String.raw`D:\PDev\MeoPanel\MeoPanel-Client\front-end\src\app\settings\page.tsx#dynamic`),n=(0,r.createProxy)(String.raw`D:\PDev\MeoPanel\MeoPanel-Client\front-end\src\app\settings\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[319,711],()=>t(3198));module.exports=r})();
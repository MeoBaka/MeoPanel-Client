(()=>{var e={};e.id=363,e.ids=[363],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(9251),r(8635),r(2874);var s=r(7105),a=r(5265),o=r(157),n=r.n(o),i=r(4665),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9251)),"D:\\PDev\\MeoPanel\\MeoPanel-Client\\front-end\\src\\app\\reset-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8635)),"D:\\PDev\\MeoPanel\\MeoPanel-Client\\front-end\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2874,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\PDev\\MeoPanel\\MeoPanel-Client\\front-end\\src\\app\\reset-password\\page.tsx"],u="/reset-password/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reset-password/page",pathname:"/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8764:(e,t,r)=>{Promise.resolve().then(r.bind(r,564))},8277:(e,t,r)=>{Promise.resolve().then(r.bind(r,5271))},2740:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3817,23)),Promise.resolve().then(r.t.bind(r,9323,23)),Promise.resolve().then(r.t.bind(r,2204,23)),Promise.resolve().then(r.t.bind(r,820,23)),Promise.resolve().then(r.t.bind(r,5915,23)),Promise.resolve().then(r.t.bind(r,1611,23))},564:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(9899),a=r(6153),o=r(5507),n=r(5271);function i({token:e}){let[t,r]=(0,o.useState)({newPassword:"",confirmPassword:""}),[i,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),{resetPassword:m}=(0,n.a)(),f=(0,a.useRouter)(),p=async r=>{if(r.preventDefault(),l(!0),c(""),h(""),t.newPassword!==t.confirmPassword){c("Passwords do not match"),l(!1);return}if(t.newPassword.length<6){c("Password must be at least 6 characters long"),l(!1);return}try{await m(e,t.newPassword,t.confirmPassword),h("Password reset successfully. Redirecting to login..."),setTimeout(()=>{f.push("/")},2e3)}catch(e){c(e.message)}finally{l(!1)}},w=e=>{r(t=>({...t,[e.target.name]:e.target.value}))};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Reset Password"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Enter your new password"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-gray-800 border border-gray-700 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,s.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-300",children:"New Password"}),s.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:t.newPassword,onChange:w,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter new password"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm New Password"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:w,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm new password"})]}),d&&s.jsx("div",{className:"text-red-400 text-sm",children:d}),u&&s.jsx("div",{className:"text-green-400 text-sm",children:u}),s.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:i?"Resetting Password...":"Reset Password"})]})})})]})}function l(){let e=(0,a.useSearchParams)();(0,a.useRouter)();let t=e.get("token");return t?s.jsx(i,{token:t}):null}},5271:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>i,a:()=>l});var s=r(9899),a=r(5507);let o="http://192.168.100.193:5000",n=(0,a.createContext)(void 0);function i({children:e}){let[t,r]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),m=async(e,t,s)=>{let a=await fetch(`${o}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameOrEmail:e,password:t,twoFactorCode:s})}),n=await a.json();if(!a.ok)throw Error(n.message||"Login failed");return n.requiresTwoFactor?(c(!0),h(n.userId)):(r(n.user),c(!1),h(null)),n},f=async e=>{let t=await fetch(`${o}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw Error(r.message||"Registration failed");return r},p=async()=>{r(null),c(!1),h(null)},w=async()=>{r(null),c(!1),h(null)},g=async()=>[],y=async e=>{let t=localStorage.getItem("accessToken"),r=await fetch(`${o}/auth/logout-session`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:e})}),s=await r.json();if(!r.ok)throw Error(s.message||"Logout session failed");return s},x=async e=>{let t=await fetch(`${o}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();if(!t.ok)throw Error(r.message||"Forgot password failed");return r},P=async(e,t,r)=>{let s=await fetch(`${o}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:t,confirmNewPassword:r})}),a=await s.json();if(!s.ok)throw Error(a.message||"Reset password failed");return a},b=async(e,t)=>{let r=localStorage.getItem("accessToken"),s=await fetch(`${o}/auth/change-password`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e,newPassword:t})}),a=await s.json();if(!s.ok)throw Error(a.message||"Change password failed");return a},j=async e=>{let t=await fetch(`${o}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),r=await t.json();if(!t.ok)throw Error(r.message||"Email verification failed");return r},v=async e=>{let t=await fetch(`${o}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();if(!t.ok)throw Error(r.message||"Resend verification failed");return r},S=async()=>{let e=localStorage.getItem("accessToken"),t=await fetch(`${o}/auth/2fa/setup`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw Error(r.message||"Setup 2FA failed");return r},T=async e=>{let t=localStorage.getItem("accessToken"),r=await fetch(`${o}/auth/2fa/verify`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({token:e})}),s=await r.json();if(!r.ok)throw Error(s.message||"Verify 2FA failed");return s},k=async(e,t)=>{let r=localStorage.getItem("accessToken"),s=await fetch(`${o}/auth/2fa/disable`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({verificationToken:e,currentPassword:t})}),a=await s.json();if(!s.ok)throw Error(a.message||"Disable 2FA failed");return a},C=async(e,t)=>{let r=localStorage.getItem("accessToken"),s=await fetch(`${o}/auth/2fa/regenerate-backup`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({verificationToken:e,currentPassword:t})}),a=await s.json();if(!s.ok)throw Error(a.message||"Regenerate backup codes failed");return a},N=async()=>{let e=localStorage.getItem("accessToken"),t=await fetch(`${o}/auth/2fa/status`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw Error(r.message||"Get 2FA status failed");return r};return s.jsx(n.Provider,{value:{user:t,login:m,register:f,logout:p,logoutAll:w,getSessions:g,logoutSession:y,forgotPassword:x,resetPassword:P,changePassword:b,verifyEmail:j,resendVerification:v,setupTwoFactor:S,verifyTwoFactor:T,disableTwoFactor:k,regenerateBackupCodes:C,getTwoFactorStatus:N,cancelTwoFactor:()=>{c(!1),h(null)},isLoading:i,requiresTwoFactor:d,twoFactorUserId:u},children:e})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6153:(e,t,r)=>{"use strict";var s=r(1545);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},8635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(5023),a=r(4188),o=r.n(a);r(1641);var n=r(2772);let i=(0,n.createProxy)(String.raw`D:\PDev\MeoPanel\MeoPanel-Client\front-end\src\contexts\AuthContext.tsx#AuthProvider`);(0,n.createProxy)(String.raw`D:\PDev\MeoPanel\MeoPanel-Client\front-end\src\contexts\AuthContext.tsx#useAuth`);let l={title:"MeoPanel - Authentication Demo",description:"Complete authentication system with 2FA"};function d({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:o().className,children:s.jsx(i,{children:e})})})}},9251:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5023),a=r(8003);let o=(0,r(2772).createProxy)(String.raw`D:\PDev\MeoPanel\MeoPanel-Client\front-end\src\components\ResetPasswordClient.tsx#default`);function n(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(o,{})})}},1641:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[319],()=>r(7870));module.exports=s})();